$(document).ready(function(){function t(t){var e=[];return 0===rn.length||t===!0?$.ajax({async:!1,url:se,data:{reveal:t},type:ce,dataType:le,success:function(n){rn=t===!0?[]:n,e=n},error:function(){e=!1}}):e=rn,e}function e(e){var n=Oe,a=t(e);a===!1?p(Wt):($.each(a,function(t,e){var a=R;e.substring(0,1)===Be&&(a=tt),n+=o(a,e)+st}),Ve.append(o(et,o(tt,jt)+st+st+n)))}function n(t,e,n){var a=o(q,o(tt,Lt+t+rt));Ve.append(o(et,a+e)),n&&setTimeout(function(){m(te),nn=[],an=Oe,on=nn.length},c())}function a(t){var e=$(qe+N+_e+ze).html(t),n=e.find(Q);return n.each(function(){var t=Math.floor($(this).attr(I)/2),e=Math.floor($(this).attr(_)/2);$(this).attr(I,t),$(this).attr(_,e)}),e.html()}function i(e){var i=!1,r=!1;if(e.substring(0,1)===Be&&(r=!0),typeof sn[e]!==gt)return n(e,sn[e],r),!0;var s=t(r);return s===!1?!1:($.each(s,function(t,n){n===e&&(i=e)}),i===!1?(Ve.append(o(et,Xt+rt+o(nt,Et+e+Mt)+Be+st+o(H,It)+Ft+o(F,Wt)+Qt+o(V,yt)+Be)),!0):void $.ajax({async:!1,url:re,type:ce,data:{file:i},success:function(t){return ln&&(t=a(t)),typeof sn[i]===gt&&(sn[i]=t),n(i,t,r),!0},error:function(){return!1}}))}function o(t,e){return qe+t+ze+e+qe+_e+t+ze}function r(){cn&&(cn=!1,He.animate({scrollTop:$(document).height()},pe),setTimeout(function(){cn=!0},2*pe))}function s(){Ze.removeClass(K),setTimeout(function(){Ze.addClass(K)},me)}function c(){var t=$(P),e=parseInt(t.text());return e>0&&setTimeout(function(){t.text(e-1),c()},de),e*de}function l(t,e){var n=t.html().replace(/ +/g,Ue);t.html(Oe),t.removeClass(L);var a=n.length,i=0,o;t.addClass(K),function r(){o=setTimeout(function(){i++;var s=n.substring(0,i);t.html(s),r(),i>=a&&(t.removeClass(K),clearTimeout(o),e())},fe)}()}function u(){ln||Ge.children(G).html(Oe),$.each(he,function(t,e){Ge.children(G).append(o(J,o(F,o(W,e[0]))))})}function h(t,e){var n=[];if($.each(t,function(t,a){Array.isArray(a)&&(a=a[0]),a.substring(0,e.length)===e&&n.push(a)}),n.length>0){if(n.length>1){for(var a=n.concat().sort(),i=a[0],o=a[a.length-1],r=i.length,s=0;i.charAt(s)===o.charAt(s)&&r>s;)s++;return i.substring(0,s)}return n[0];return n}return!1}function f(t){Xe.text(t),Ze.text(Ke),tn.text(Oe)}function p(t){Ve.append(o(et,t+rt+o(nt,Kt)+Be+st+o(H,It)+Ot))}function d(t){var e=!1;t===!0?on--:t===!1&&on++,0>on&&(on=0),on>=nn.length&&(on=nn.length,e=!0),f(e?an:nn[on])}function m(n){if(n.length>0){var a;switch(n=n.split(Ke),a=n[0]===Xt&&void 0!==n[1]?n[0]+Ke+n[1]:n[0]===Wt&&n[1]===oe?n[0]+Ke+n[1]:n[0],Ve.append(o(q,o(z,lt)+ot+o(tt,ct)+Ue+a)),nn.push(a),on=nn.length,an=Oe,Xe.add(tn).text(Oe),Ze.text(Ke),n[0]){case te:Fe.animate({scrollTop:0},pe,function(){Ve.html(Oe)});break;case Zt:var r=o(tt,Pt)+st+st;$.each(he,function(t,e){r+=o(F,e[0])+it+e[1]+st}),r+=st+qt+o(Y,bt)+Rt+o(V,ut)+Vt+st+st,r+=o(H,Bt)+st+wt+o(V,Tt)+at+kt+o(V,At)+at+Ct+o(V,St)+Be+st,r+=st+o(H,It)+st+xt+o(V,ht)+Ht+o(V,ft)+Yt+Be+st+xt+o(V,pt)+Ht+o(V,dt)+Gt+Be+st+xt+o(V,mt)+Jt+Be+st+xt+o(V,ut)+Nt+o(Y,bt)+Be,Ve.append(o(et,r));break;case Wt:var s=!1;n[1]===oe&&(s=!0),e(s);break;case Xt:void 0!==n[1]?i(n[1])===!1&&p(n[0]):(Ve.append(o(et,Xt+rt+o(nt,Ut)+Be+st+o(H,_t)+Ue+o(Y,Xt)+Ue+o(V,vt))),e(!1));break;case ee:var c=t(!1),l=c[Math.floor(Math.random()*c.length)];i(l);break;case ne:i(ne+Be+ue);break;case ae:i(ae+Be+ue);break;case ie:i(ie+Be+ue);break;default:Ve.append(o(et,n[0]+rt+o(nt,Dt)+Be+st+o(H,It)+Ft+o(F,zt)+Qt+o(Y,$t)+Be))}}if(Ve.text().length>0){var u=0;Ge.hasClass(U)&&(u=Ge.height()),He.animate({scrollTop:$(M).position().top-20-Ge.height()+u},pe)}}var x="#computer",v="#logo",g="#intro-title",b="#intro-subtitle",y="#intro-hint",w="#output",k="#input",C="#input-current",T="#input-before",A="#input-after",S="#input-mobile",M="#output > p:last-of-type",P="#countdown",j="#navigation",D="#type-mobile",L="type",K="blink",O="ready",U="absolute",B="click",E="keydown",I="width",_="height",q="p",z="b",F="i",H="u",Y="em",G="ul",J="li",N="div",Q="img",R="ins",V="dfn",W="span",X="body",Z="html",tt="small",et="blockquote",nt="strong",at=", ",it=" â€” ",ot=":~ ",rt=": ",st="<br/>",ct="guest$",lt="jmportfolio",ut="enter",ht="left",ft="right",pt="up",dt="down",mt="tab",xt="Press ",vt="filename",gt="undefined",bt="command",$t="commands",yt="files",wt="Letters ",kt="numbers ",Ct="punctuation ",Tt="[a-z]",At="[0-9]",St="[._-]",Mt="' not found",Pt="Available commands:",jt="Available files:",Dt="Command not found",Lt="Content of ",Kt="Error: Lost connection to server",Ot=" Make sure you are connected to the internet.",Ut="You must specify a file to display",Bt="Allowed input:",Et="File '",It="Hint:",_t="Usage:",qt="Type your ",zt="help",Ft=" Use ",Ht=" and ",Yt=" arrow keys to move the cursor",Gt=" arrow keys to navigate your command history",Jt=" to autocomplete filenames/commands",Nt=" to execute your ",Qt=" to list available ",Rt=" below and press ",Vt=" to execute it.",Wt="files",Xt="open",Zt="help",te="clear",ee="random",ne="about",ae="contact",ie="legal",oe="-a",re="php/open.php",se="php/files.php",ce="POST",le="json",ue="txt",he=[[Zt,"Display this help"],[Wt,"List all available files"],[Xt,"Display file content"],[ne,"Show info about me"],[ae,"Show contact info"],[ie,"Show legal disclosure"],[ee,"Display random file"],[te,"Clear terminal"]],fe=0,pe=250,de=1e3,me=2e3,xe=8,ve=9,ge=13,be=32,$e=37,ye=38,we=39,ke=40,Ce=65,Te=90,Ae=48,Se=57,Me=160,Pe=189,je=173,De=186,Le=190,Ke=String.fromCharCode(Me),Oe="",Ue=" ",Be=".",Ee="-",Ie="_",_e="/",qe="<",ze=">",Fe=$(X),He=$(X+at+Z),Ye=$(x),Ge=$(j),Je=$(v),Ne=$(g),Qe=$(b),Re=$(y),Ve=$(w),We=$(k),Xe=$(T),Ze=$(C),tn=$(A),en=$(S),nn=[],an=Oe,on=nn.length,rn=[],sn=[],cn=!0,ln=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);$(window).load(function(){u(),l(Ne,function(){l(Qe,function(){l(Re,function(){Je.removeClass(K),We.addClass(O),Ye.addClass(O)})})})}),Ye.on(E,function(e){if(e.preventDefault(),!$(this).hasClass(O))return!1;switch(s(),e.which){case xe:Xe.text().length>0&&(Xe.text(Xe.text().slice(0,Xe.text().length-1)),an=Xe.text()+Ze.text().trim()+tn.text()),r();break;case ve:var n=Xe.text()+Ze.text()+tn.text();if(n=n.trim().split(Ke),n[0]===Xt&&void 0!==n[1]){var a=t(!0);if(a!==!1){var i=h(a,n[1]);i!==!1&&f(Xt+Ke+i)}}else{var o=h(he,n[0]);o!==!1&&f(o)}r();break;case ge:if(e.shiftKey)Xe.text(Xe.text()+Ke),r();else{var c=(Xe.text()+Ze.text()+tn.text()).trim();m(c)}break;case $e:Xe.text().length>0&&(tn.text().length>0?tn.text(Ze.text()+tn.text()):tn.text(Ze.text().trim()),Ze.text(Xe.text().slice(-1)),Xe.text(Xe.text().slice(0,Xe.text().length-1))),r();break;case we:if(Ze.text()!==Ke||tn.text().length>0){Xe.text(Xe.text()+Ze.text());var l=tn.text().slice(0,1);0===l.length&&(l=Ke),Ze.text(l),tn.text(tn.text().slice(1,tn.text().length))}r();break;case ye:d(!0),r();break;case ke:d(!1),r();break;default:var u=String.fromCharCode(e.which);u=e.which>=Ce&&e.which<=Te?e.shiftKey?u.toUpperCase():u.toLowerCase():e.which>=Ae&&e.which<=Se?String.fromCharCode(e.which):e.which===be?Ke:e.which===Le||e.which===De?Be:e.which===Pe||e.which===je?e.shiftKey?Ie:Ee:Oe,u!==Oe&&r(),Xe.text(Xe.text()+u),an=Xe.text()+Ze.text().trim()+tn.text()}}),Fe.on(B,F,function(){m($(this).text())}),Fe.on(B,R,function(){m(Xt+Ke+$(this).text())}),$(D).add(We).click(function(){r(),en.focus()}),en.focusin(function(){Ge.addClass(U)}),en.focusout(function(){Ge.removeClass(U)})});