/*
 * JS-module: Main.
 * Main Javascript file.
 * @author    Jakob Metzger <jakob.me@gmail.com>
 * @copyright 2015 Jakob Metzger
 * @license   http://www.php.net/license/3_0.txt PHP License 3.0
 */
$(document).ready(function(){function t(t,e){return T+t+j+e+T+D+t+j}function e(t){return T+K+J+t+M+j+t+T+D+K+j}function a(){de.removeClass(p),setTimeout(function(){de.addClass(p)},2e3)}function n(t,e){var a=t.attr(C),n=a.length,i=0,r=5,o;t.addClass(p),function c(){o=setTimeout(function(){i++;var r=a.substring(0,i);t.html(r),c(),i===n&&(t.removeAttr(C),t.removeClass(p),clearTimeout(o),e())},r)}()}function i(t){var e=!1;t===!0?ge--:t===!1&&ge++,0>ge&&(ge=0),ge>=me.length&&(ge=me.length,e=!0),xe.text(v),de.text(String.fromCharCode(Zt)),e?ue.text(pe):ue.text(me[ge])}function r(a){if(a.length>0){var n;switch(a=a.split(String.fromCharCode(Zt)),n=a[0]===Tt&&void 0!==a[1]?a[0]+String.fromCharCode(Zt)+a[1]:a[0]===Dt&&a[1]===qt?a[0]+String.fromCharCode(Zt)+a[1]:a[0],he.append(t(L,t(B,t(z,X)+Q+t(F,W)+w+n))),me.push(n),ge=me.length,pe=v,ue.add(xe).text(v),de.text(String.fromCharCode(Zt)),a[0]){case Kt:ie.animate({scrollTop:0},250,function(){he.html(v)});break;case jt:var i=v;$.each(Et,function(e,a){i+=t(A,a[0])+O+a[1]+V}),i+=V+pt+t(q,rt)+St+t(P,Y)+_t+V+V,i+=t(U,xt)+V+ct+t(P,ht)+N+st+t(P,ft)+N+lt+t(P,ut)+y+V,i+=V+t(U,mt)+V+it+t(P,Z)+bt+t(P,tt)+kt+y+V+it+t(P,et)+bt+t(P,at)+vt+y+V+it+t(P,nt)+wt+y+V+it+t(P,Y)+yt+t(q,rt)+y,he.append(t(G,i));break;case Dt:var r=v;$.each(Ft,function(n,i){i[0]===Bt?a[1]===qt&&(r+=t(F,i[1])+V):r+=i[0]===Pt?e(i[1])+V:t(H,i[1])+V}),he.append(t(G,r));break;case Tt:break;case Lt:break;case zt:break;case At:break;case Ut:break;default:he.append(t(G,a+R+t(I,dt)+Ct+t(A,gt)+$t+t(q,ot)+y))}}ie.animate({scrollTop:re.height()},500)}var o="#computer",c="#logo",s="#intro-title",l="#intro-subtitle",h="#intro-hint",f="#output",u="#input",d="#input-current",x="#input-before",m="#input-after",p="blink",g="ready",C="data-text",b="click",k="keydown",v="",w=" ",y=".",S="-",_="_",D="/",T="<",j=">",K="a",L="p",z="b",A="i",U="u",q="em",H="ins",P="dfn",B="span",E="body",F="small",G="blockquote",I="strong",J=" href='http://",M="' target='_blank'",N=", ",O=" â€” ",Q=":~ ",R=": ",V="<br/>",W="guest$",X="jmportfolio",Y="enter",Z="left",tt="right",et="up",at="down",nt="tab",it="Press ",rt="command",ot="commands",ct="Letters ",st="numbers ",lt="punctuation ",ht="[a-z]",ft="[0-9]",ut="[._-]",dt="Command not found",xt="Allowed input:",mt="Hint:",pt="Type your ",gt="help",Ct=". Use ",bt=" and ",kt=" arrow keys to move the cursor",vt=" arrow keys to navigate your command history",wt=" to autocomplete filenames",yt=" to execute your ",$t=" to list available ",St=" below and press ",_t=" to execute it.",Dt="ls",Tt="open",jt="help",Kt="clear",Lt="random",zt="about",At="contact",Ut="notice",qt="-a",Ht="text",Pt="html",Bt="hide",Et=[[Dt,"List all files"],[Tt,"Display file content"],[jt,"Display this help"],[Kt,"Clear terminal"],[Lt,"Display random file"],[zt,"Display info about me (about.txt)"],[At,"Display contact information (contact.txt)"],[Ut,"Display legal information (notice.txt)"]],Ft=[[Ht,"about.txt"],[Ht,"contact.txt"],[Ht,"notice.txt"],[Ht,"skills.dat"],[Ht,"01_lichtblick.pdf"],[Ht,"02_minimalicons.pdf"],[Ht,"03_aurora.pdf"],[Ht,"04_tinycons.pdf"],[Ht,"05_jakobmetzger.pdf"],[Pt,"mannmitdertarnjacke.deviantart.com"],[Pt,"lichtblick-im-auetal.de"],[Pt,"spieler-internet.de"],[Bt,".fun"]],Gt=8,It=9,Jt=13,Mt=32,Nt=37,Ot=38,Qt=39,Rt=40,Vt=65,Wt=90,Xt=48,Yt=57,Zt=160,te=189,ee=173,ae=186,ne=190,ie=$(E),re=$(o),oe=$(c),ce=$(s),se=$(l),le=$(h),he=$(f),fe=$(u),ue=$(x),de=$(d),xe=$(m),me=[],pe=v,ge=me.length;$(window).load(function(){n(ce,function(){n(se,function(){n(le,function(){oe.removeClass(p),fe.addClass(g),re.addClass(g)})})})}),re.on(k,function(t){if(t.preventDefault(),!$(this).hasClass(g))return!1;switch(a(),t.which){case Gt:ue.text().length>0&&(ue.text(ue.text().slice(0,ue.text().length-1)),pe=ue.text()+de.text().trim()+xe.text());break;case It:var e=ue.text()+de.text()+xe.text();if(e=e.trim().split(String.fromCharCode(Zt)),e[0]===Tt&&void 0!==e[1]){var n=v;$.each(Ft,function(t,a){a[1].substring(0,e[1].length)===e[1]&&(n=a[1])}),n!==v&&(ue.text(Tt+String.fromCharCode(Zt)+n),de.text(String.fromCharCode(Zt)),xe.text(v))}break;case Jt:if(t.shiftKey)ue.text(ue.text()+String.fromCharCode(Zt));else{var o=(ue.text()+de.text()+xe.text()).trim();r(o)}break;case Nt:ue.text().length>0&&(xe.text().length>0?xe.text(de.text()+xe.text()):xe.text(de.text().trim()),de.text(ue.text().slice(-1)),ue.text(ue.text().slice(0,ue.text().length-1)));break;case Qt:if(de.text()!==String.fromCharCode(Zt)||xe.text().length>0){ue.text(ue.text()+de.text());var c=xe.text().slice(0,1);0===c.length&&(c=String.fromCharCode(Zt)),de.text(c),xe.text(xe.text().slice(1,xe.text().length))}break;case Ot:i(!0);break;case Rt:i(!1);break;default:var s=String.fromCharCode(t.which);s=t.which>=Vt&&t.which<=Wt?t.shiftKey?s.toUpperCase():s.toLowerCase():t.which>=Xt&&t.which<=Yt?String.fromCharCode(t.which):t.which===Mt?String.fromCharCode(Zt):t.which===ne||t.which===ae?y:t.which===te||t.which===ee?t.shiftKey?_:S:v,ue.text(ue.text()+s),pe=ue.text()+de.text().trim()+xe.text()}}),ie.on(b,A,function(){r($(this).text())})});