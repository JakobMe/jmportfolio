/*
 * JS-module: Main.
 * Main Javascript file.
 * @author    Jakob Metzger <jakob.me@gmail.com>
 * @copyright 2015 Jakob Metzger
 * @license   http://www.php.net/license/3_0.txt PHP License 3.0
 */
$(document).ready(function(){function t(t,e){return k+t+y+e+k+v+t+y}function e(){$t.removeClass(x),setTimeout(function(){$t.addClass(x)},2e3)}function i(t,e){var i=t.attr(m),n=i.length,a=0,o=5,r;t.addClass(x),function s(){r=setTimeout(function(){a++;var c=i.substring(0,a);c.slice(-1)===k?o=0:c.slice(-1)===y&&(o=5),t.html(c),s(),a===n&&(t.removeAttr(m),t.removeClass(x),clearTimeout(r),e())},o)}()}var n="#computer",a="#logo",o="#intro-title",r="#intro-subtitle",s="#intro-hint",c="#output",h="#input",l="#input-current",u="#input-before",f="#input-after",x="blink",d="ready",m="data-text",C="",p=" ",g=".",w="-",b="_",v="/",k="<",y=">",S="p",K="b",T="i",U="em",j="span",q="small",A="blockquote",D="strong",L="jmportfolio",O=":~ ",P="guest$",_="commands",z=": ",B="Command not found",E="help",F=". Use ",G=" to list available ",H="list",I="open",J="help",M="clear",N="random",Q="about",R="contact",V="notice",W=8,X=9,Y=13,Z=32,tt=37,et=38,it=39,nt=40,at=65,ot=90,rt=48,st=57,ct=160,ht=189,lt=173,ut=186,ft=190,xt=$(n),dt=$(a),mt=$(o),Ct=$(r),pt=$(s),gt=$(c),wt=$(h),bt=$(u),$t=$(l),vt=$(f),kt={list:{},open:{},help:{},clear:{},random:{},about:{},contact:{},notice:{}};$(window).load(function(){i(mt,function(){i(Ct,function(){i(pt,function(){dt.removeClass(x),wt.addClass(d),xt.addClass(d)})})})}),xt.keydown(function(i){if(i.preventDefault(),!$(this).hasClass(d))return!1;switch(e(),i.which){case W:bt.text().length>0&&bt.text(bt.text().slice(0,bt.text().length-1));break;case X:break;case Y:if(i.shiftKey)bt.text(bt.text()+String.fromCharCode(ct));else{var n=(bt.text()+$t.text()+vt.text()).trim();if(n.length>0)if(gt.append(t(S,t(j,t(K,L)+O+t(q,P)+p+n))),bt.add(vt).text(C),$t.text(String.fromCharCode(ct)),kt.hasOwnProperty(n))switch(n){case M:gt.html(C)}else gt.append(t(A,n+z+t(D,B)+F+t(T,E)+G+t(U,_)+g))}break;case tt:bt.text().length>0&&(vt.text($t.text()+vt.text()),$t.text(bt.text().slice(-1)),bt.text(bt.text().slice(0,bt.text().length-1)));break;case it:if($t.text()!==String.fromCharCode(ct)||vt.text().length>0){bt.text(bt.text()+$t.text());var a=vt.text().slice(0,1);0===a.length&&(a=String.fromCharCode(ct)),$t.text(a),vt.text(vt.text().slice(1,vt.text().length))}break;case et:break;case nt:break;default:var o=String.fromCharCode(i.which);o=i.which>=at&&i.which<=ot?i.shiftKey?o.toUpperCase():o.toLowerCase():i.which>=rt&&i.which<=st?String.fromCharCode(i.which):i.which===Z?String.fromCharCode(ct):i.which===ft||i.which===ut?g:i.which===ht||i.which===lt?i.shiftKey?b:w:C,bt.text(bt.text()+o)}})});