/*
 * JS-module: Main.
 * Main Javascript file.
 * @author    Jakob Metzger <jakob.me@gmail.com>
 * @copyright 2015 Jakob Metzger
 * @license   http://www.php.net/license/3_0.txt PHP License 3.0
 */
$(document).ready(function(){function t(t,e){return T+t+j+e+T+D+t+j}function e(t){return T+K+J+t+M+j+t+T+D+K+j}function a(){fe.removeClass(p),setTimeout(function(){fe.addClass(p)},2e3)}function n(t,e){var a=t.attr(g),n=a.length,i=0,o=5,r;t.addClass(p),function c(){r=setTimeout(function(){i++;var o=a.substring(0,i);t.html(o),c(),i===n&&(t.removeAttr(g),t.removeClass(p),clearTimeout(r),e())},o)}()}function i(t){var e=!1;t===!0?pe--:t===!1&&pe++,0>pe&&(pe=0),pe>=me.length&&(pe=me.length,e=!0),de.text(w),fe.text(String.fromCharCode(Yt)),e?ue.text(xe):ue.text(me[pe])}function o(a){if(a.length>0){var n;switch(a=a.split(String.fromCharCode(Yt)),n=a[0]===Tt&&void 0!==a[1]?a[0]+String.fromCharCode(Yt)+a[1]:a[0],a=a[0],le.append(t(L,t(B,t(z,X)+Q+t(F,W)+y+n))),me.push(n),pe=me.length,xe=w,ue.add(de).text(w),fe.text(String.fromCharCode(Yt)),a){case Kt:ne.animate({scrollTop:0},250,function(){le.html(w)});break;case jt:var i=w;$.each(Bt,function(e,a){i+=t(A,a[0])+O+a[1]+V}),i+=V+pt+t(q,ot)+St+t(P,Y)+_t+V+V,i+=t(U,mt)+V+ct+t(P,ht)+N+st+t(P,ut)+N+lt+t(P,ft)+v+V,i+=V+t(U,xt)+V+it+t(P,Z)+Ct+t(P,tt)+kt+v+V+it+t(P,et)+Ct+t(P,at)+wt+v+V+it+t(P,nt)+yt+v+V+it+t(P,Y)+vt+t(q,ot)+v,le.append(t(G,i));break;case Dt:var o=w;$.each(Et,function(a,n){o+=n[0]===Pt?t(F,n[1])+V:n[0]===Ht?e(n[1])+V:t(H,n[1])+V}),le.append(t(G,o));break;case Tt:break;case Lt:break;case zt:break;case At:break;case Ut:break;default:le.append(t(G,a+R+t(I,dt)+gt+t(A,bt)+$t+t(q,rt)+v))}}ne.animate({scrollTop:ie.height()},500)}var r="#computer",c="#logo",s="#intro-title",l="#intro-subtitle",h="#intro-hint",u="#output",f="#input",d="#input-current",m="#input-before",x="#input-after",p="blink",b="ready",g="data-text",C="click",k="keydown",w="",y=" ",v=".",S="-",_="_",D="/",T="<",j=">",K="a",L="p",z="b",A="i",U="u",q="em",H="ins",P="dfn",B="span",E="body",F="small",G="blockquote",I="strong",J=" href='http://",M="' target='_blank'",N=", ",O=" â€” ",Q=":~ ",R=": ",V="<br/>",W="guest$",X="jmportfolio",Y="enter",Z="left",tt="right",et="up",at="down",nt="tab",it="Press ",ot="command",rt="commands",ct="Letters ",st="numbers ",lt="punctuation ",ht="[a-z]",ut="[0-9]",ft="[._-]",dt="Command not found",mt="Allowed input:",xt="Hint:",pt="Type your ",bt="help",gt=". Use ",Ct=" and ",kt=" arrow keys to move the cursor",wt=" arrow keys to navigate your command history",yt=" to autocomplete filenames",vt=" to execute your ",$t=" to list available ",St=" below and press ",_t=" to execute it.",Dt="ls",Tt="open",jt="help",Kt="clear",Lt="random",zt="about",At="contact",Ut="notice",qt="text",Ht="html",Pt="hide",Bt=[[Dt,"List all files"],[Tt,"Display file content"],[jt,"Display this help"],[Kt,"Clear terminal"],[Lt,"Display random file"],[zt,"Display info about me (about.txt)"],[At,"Display contact information (contact.txt)"],[Ut,"Display legal information (notice.txt)"]],Et=[[qt,"about.txt"],[qt,"contact.txt"],[qt,"notice.txt"],[qt,"skills.dat"],[qt,"01_lichtblick.pdf"],[qt,"02_minimalicons.pdf"],[qt,"03_aurora.pdf"],[qt,"04_tinycons.pdf"],[qt,"05_jakobmetzger.pdf"],[Ht,"mannmitdertarnjacke.deviantart.com"],[Ht,"lichtblick-im-auetal.de"],[Ht,"spieler-internet.de"],[Pt,".fun"]],Ft=8,Gt=9,It=13,Jt=32,Mt=37,Nt=38,Ot=39,Qt=40,Rt=65,Vt=90,Wt=48,Xt=57,Yt=160,Zt=189,te=173,ee=186,ae=190,ne=$(E),ie=$(r),oe=$(c),re=$(s),ce=$(l),se=$(h),le=$(u),he=$(f),ue=$(m),fe=$(d),de=$(x),me=[],xe=w,pe=me.length;$(window).load(function(){n(re,function(){n(ce,function(){n(se,function(){oe.removeClass(p),he.addClass(b),ie.addClass(b)})})})}),ie.on(k,function(t){if(t.preventDefault(),!$(this).hasClass(b))return!1;switch(a(),t.which){case Ft:ue.text().length>0&&(ue.text(ue.text().slice(0,ue.text().length-1)),xe=ue.text()+fe.text().trim()+de.text());break;case Gt:break;case It:if(t.shiftKey)ue.text(ue.text()+String.fromCharCode(Yt));else{var e=(ue.text()+fe.text()+de.text()).trim();o(e)}break;case Mt:ue.text().length>0&&(de.text().length>0?de.text(fe.text()+de.text()):de.text(fe.text().trim()),fe.text(ue.text().slice(-1)),ue.text(ue.text().slice(0,ue.text().length-1)));break;case Ot:if(fe.text()!==String.fromCharCode(Yt)||de.text().length>0){ue.text(ue.text()+fe.text());var n=de.text().slice(0,1);0===n.length&&(n=String.fromCharCode(Yt)),fe.text(n),de.text(de.text().slice(1,de.text().length))}break;case Nt:i(!0);break;case Qt:i(!1);break;default:var r=String.fromCharCode(t.which);r=t.which>=Rt&&t.which<=Vt?t.shiftKey?r.toUpperCase():r.toLowerCase():t.which>=Wt&&t.which<=Xt?String.fromCharCode(t.which):t.which===Jt?String.fromCharCode(Yt):t.which===ae||t.which===ee?v:t.which===Zt||t.which===te?t.shiftKey?_:S:w,ue.text(ue.text()+r),xe=ue.text()+fe.text().trim()+de.text()}}),ne.on(C,A,function(){o($(this).text())})});