/*
 * JS-module: Main.
 * Main Javascript file.
 * @author    Jakob Metzger <jakob.me@gmail.com>
 * @copyright 2015 Jakob Metzger
 * @license   http://www.php.net/license/3_0.txt PHP License 3.0
 */
$(document).ready(function(){function t(t,e){return D+t+T+e+D+S+t+T}function e(){oe.removeClass(d),setTimeout(function(){oe.addClass(d)},2e3)}function o(t,e){var o=t.attr(x),a=o.length,n=0,i=5,r;t.addClass(d),function s(){r=setTimeout(function(){n++;var i=o.substring(0,n);t.html(i),s(),n===a&&(t.removeAttr(x),t.removeClass(d),clearTimeout(r),e())},i)}()}function a(e){if(e.length>0){var o;if(e=e.split(String.fromCharCode(Gt)),o=e[0]===vt?e[0]+String.fromCharCode(Gt)+e[1]:e[0],e=e[0],Zt.append(t(K,t(_,t(L,M)+F+t(q,J)+b+o))),ee.add(ae).text(w),oe.text(String.fromCharCode(Gt)),Lt.hasOwnProperty(e))switch(e){case kt:Qt.animate({scrollTop:0},250,function(){Zt.html(w)});break;case $t:var a=w;for(var n in Lt)Lt.hasOwnProperty(n)&&(a+=t(P,n)+E+Lt[n]+I);a+=I+ht+t(O,Z)+wt+t(U,N)+bt+I+I,a+=t(A,lt)+I+et+t(U,nt)+B+ot+t(U,it)+B+at+t(U,rt)+y+I,a+=I+t(A,ct)+I+Y+t(U,Q)+mt+t(U,R)+dt+y+I+Y+t(U,V)+mt+t(U,W)+pt+y+I+Y+t(U,X)+xt+y+I+Y+t(U,N)+Ct+t(O,Z)+y,Zt.append(t(z,a))}else Zt.append(t(z,e+G+t(H,st)+ft+t(P,ut)+gt+t(O,tt)+y))}Qt.animate({scrollTop:Rt.height()},500)}var n="#computer",i="#logo",r="#intro-title",s="#intro-subtitle",l="#intro-hint",c="#output",h="#input",u="#input-current",f="#input-before",m="#input-after",d="blink",p="ready",x="data-text",C="click",g="keydown",w="",b=" ",y=".",v="-",k="_",S="/",D="<",T=">",K="p",L="b",P="i",A="u",O="em",U="dfn",_="span",j="body",q="small",z="blockquote",H="strong",B=", ",E=" â€” ",F=":~ ",G=": ",I="<br/>",J="guest$",M="jmportfolio",N="enter",Q="left",R="right",V="up",W="down",X="tab",Y="Press ",Z="command",tt="commands",et="Letters ",ot="numbers ",at="punctuation ",nt="[a-z]",it="[0-9]",rt="[._-]",st="Command not found",lt="Allowed input:",ct="Hint:",ht="Type your ",ut="help",ft=". Use ",mt=" and ",dt=" arrow keys to move the cursor",pt=" arrow keys to navigate your command history",xt=" to autocomplete filenames",Ct=" to execute your ",gt=" to list available ",wt=" below and press ",bt=" to execute it.",yt="ls",vt="open",$t="help",kt="clear",St="random",Dt="about",Tt="contact",Kt="notice",Lt={ls:"List all files",open:"Display file content",help:"Display this help",clear:"Clear terminal",random:"Display random image file",about:"Display info about me",contact:"Display contact information",notice:"Display legal information"},Pt=8,At=9,Ot=13,Ut=32,_t=37,jt=38,qt=39,zt=40,Ht=65,Bt=90,Et=48,Ft=57,Gt=160,It=189,Jt=173,Mt=186,Nt=190,Qt=$(j),Rt=$(n),Vt=$(i),Wt=$(r),Xt=$(s),Yt=$(l),Zt=$(c),te=$(h),ee=$(f),oe=$(u),ae=$(m);$(window).load(function(){o(Wt,function(){o(Xt,function(){o(Yt,function(){Vt.removeClass(d),te.addClass(p),Rt.addClass(p)})})})}),Rt.on(g,function(t){if(t.preventDefault(),!$(this).hasClass(p))return!1;switch(e(),t.which){case Pt:ee.text().length>0&&ee.text(ee.text().slice(0,ee.text().length-1));break;case At:break;case Ot:if(t.shiftKey)ee.text(ee.text()+String.fromCharCode(Gt));else{var o=(ee.text()+oe.text()+ae.text()).trim();a(o)}break;case _t:ee.text().length>0&&(ae.text(oe.text()+ae.text()),oe.text(ee.text().slice(-1)),ee.text(ee.text().slice(0,ee.text().length-1)));break;case qt:if(oe.text()!==String.fromCharCode(Gt)||ae.text().length>0){ee.text(ee.text()+oe.text());var n=ae.text().slice(0,1);0===n.length&&(n=String.fromCharCode(Gt)),oe.text(n),ae.text(ae.text().slice(1,ae.text().length))}break;case jt:break;case zt:break;default:var i=String.fromCharCode(t.which);i=t.which>=Ht&&t.which<=Bt?t.shiftKey?i.toUpperCase():i.toLowerCase():t.which>=Et&&t.which<=Ft?String.fromCharCode(t.which):t.which===Ut?String.fromCharCode(Gt):t.which===Nt||t.which===Mt?y:t.which===It||t.which===Jt?t.shiftKey?k:v:w,ee.text(ee.text()+i)}}),Qt.on(C,P,function(){a($(this).text())})});