/*
 * JS-module: Main.
 * Main Javascript file.
 * @author    Jakob Metzger <jakob.me@gmail.com>
 * @copyright 2015 Jakob Metzger
 * @license   http://www.php.net/license/3_0.txt PHP License 3.0
 */
$(document).ready(function(){function t(t,e){return k+t+y+e+k+v+t+y}function e(){dt.removeClass(d),setTimeout(function(){dt.addClass(d)},2e3)}function n(t,e){var n=t.attr(m),i=n.length,a=0,r=5,o;t.addClass(d),function s(){o=setTimeout(function(){a++;var h=n.substring(0,a);h.slice(-1)===k?r=0:h.slice(-1)===y&&(r=5),t.html(h),s(),a===i&&(t.removeAttr(m),t.removeClass(d),clearTimeout(o),e())},r)}()}var i="#computer",a="#logo",r="#intro-title",o="#intro-subtitle",s="#intro-hint",h="#output",c="#input",l="#input-current",u="#input-before",x="#input-after",d="blink",f="ready",m="data-text",C="",g=" ",p=".",w="-",b="_",v="/",k="<",y=">",S="p",K="b",T="i",U="em",j="span",q="small",A="blockquote",D="strong",L="jmportfolio",O=":~ ",P="guest$",_="commands",z=": ",B="Command not found",E="help",F=". Use ",G=" to list available ",H=8,I=9,J=13,M=32,N=37,Q=38,R=39,V=40,W=65,X=90,Y=48,Z=57,tt=160,et=189,nt=173,it=186,at=190,rt=$(i),ot=$(a),st=$(r),ht=$(o),ct=$(s),lt=$(h),ut=$(c),xt=$(u),dt=$(l),ft=$(x),mt={list:{},open:{},help:{},clear:{},random:{},about:{},contact:{},notice:{}};$(window).load(function(){n(st,function(){n(ht,function(){n(ct,function(){ot.removeClass(d),ut.addClass(f),rt.addClass(f)})})})}),rt.keydown(function(n){if(n.preventDefault(),!$(this).hasClass(f))return!1;switch(e(),n.which){case H:xt.text().length>0&&xt.text(xt.text().slice(0,xt.text().length-1));break;case I:break;case J:if(n.shiftKey)xt.text(xt.text()+String.fromCharCode(tt));else{var i=(xt.text()+dt.text()+ft.text()).trim();i.length>0&&(lt.append(t(S,t(j,t(K,L)+O+t(q,P)+g+i))),xt.add(ft).text(C),dt.text(String.fromCharCode(tt)),mt.hasOwnProperty(i)||lt.append(t(A,i+z+t(D,B)+F+t(T,E)+G+t(U,_)+p)))}break;case N:xt.text().length>0&&(ft.text(dt.text()+ft.text()),dt.text(xt.text().slice(-1)),xt.text(xt.text().slice(0,xt.text().length-1)));break;case R:if(dt.text()!==String.fromCharCode(tt)||ft.text().length>0){xt.text(xt.text()+dt.text());var a=ft.text().slice(0,1);0===a.length&&(a=String.fromCharCode(tt)),dt.text(a),ft.text(ft.text().slice(1,ft.text().length))}break;case Q:break;case V:break;default:var r=String.fromCharCode(n.which);r=n.which>=W&&n.which<=X?n.shiftKey?r.toUpperCase():r.toLowerCase():n.which>=Y&&n.which<=Z?String.fromCharCode(n.which):n.which===M?String.fromCharCode(tt):n.which===at||n.which===it?p:n.which===et||n.which===nt?n.shiftKey?b:w:C,xt.text(xt.text()+r)}})});