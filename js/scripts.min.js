/*
 * JS-module: Main.
 * Main Javascript file.
 * @author    Jakob Metzger <jakob.me@gmail.com>
 * @copyright 2015 Jakob Metzger
 * @license   http://www.php.net/license/3_0.txt PHP License 3.0
 */
$(document).ready(function(){function t(t,e){return T+t+K+e+T+D+t+K}function e(){ne.removeClass(d),setTimeout(function(){ne.addClass(d)},2e3)}function a(t,e){var a=t.attr(g),n=a.length,o=0,r=5,i;t.addClass(d),function s(){i=setTimeout(function(){o++;var r=a.substring(0,o);t.html(r),s(),o===n&&(t.removeAttr(g),t.removeClass(d),clearTimeout(i),e())},r)}()}function n(t){var e=!1;t===!0?se--:t===!1&&se++,0>se&&(se=0),se>=re.length&&(se=re.length,e=!0),oe.text(w),ne.text(String.fromCharCode(It)),e?ae.text(ie):ae.text(re[se])}function o(e){if(e.length>0){var a;if(e=e.split(String.fromCharCode(It)),a=e[0]===vt&&void 0!==e[1]?e[0]+String.fromCharCode(It)+e[1]:e[0],e=e[0],te.append(t(L,t(j,t(P,N)+G+t(z,M)+y+a))),re.push(a),se=re.length,ie=w,ae.add(oe).text(w),ne.text(String.fromCharCode(It)),Pt.hasOwnProperty(e))switch(e){case St:Rt.animate({scrollTop:0},250,function(){te.html(w)});break;case $t:var n=w;for(var o in Pt)Pt.hasOwnProperty(o)&&(n+=t(A,o)+F+Pt[o]+J);n+=J+ut+t(U,tt)+wt+t(_,Q)+yt+J+J,n+=t(O,ct)+J+at+t(_,rt)+E+nt+t(_,it)+E+ot+t(_,st)+k+J,n+=J+t(O,ht)+J+Z+t(_,R)+xt+t(_,V)+dt+k+J+Z+t(_,W)+xt+t(_,X)+pt+k+J+Z+t(_,Y)+gt+k+J+Z+t(_,Q)+Ct+t(U,tt)+k,te.append(t(H,n));break;case kt:break;case vt:break;case Dt:break;case Tt:break;case Kt:break;case Lt:}else te.append(t(H,e+I+t(B,lt)+mt+t(A,ft)+bt+t(U,et)+k))}Rt.animate({scrollTop:Vt.height()},500)}var r="#computer",i="#logo",s="#intro-title",l="#intro-subtitle",c="#intro-hint",h="#output",u="#input",f="#input-current",m="#input-before",x="#input-after",d="blink",p="ready",g="data-text",C="click",b="keydown",w="",y=" ",k=".",v="-",S="_",D="/",T="<",K=">",L="p",P="b",A="i",O="u",U="em",_="dfn",j="span",q="body",z="small",H="blockquote",B="strong",E=", ",F=" â€” ",G=":~ ",I=": ",J="<br/>",M="guest$",N="jmportfolio",Q="enter",R="left",V="right",W="up",X="down",Y="tab",Z="Press ",tt="command",et="commands",at="Letters ",nt="numbers ",ot="punctuation ",rt="[a-z]",it="[0-9]",st="[._-]",lt="Command not found",ct="Allowed input:",ht="Hint:",ut="Type your ",ft="help",mt=". Use ",xt=" and ",dt=" arrow keys to move the cursor",pt=" arrow keys to navigate your command history",gt=" to autocomplete filenames",Ct=" to execute your ",bt=" to list available ",wt=" below and press ",yt=" to execute it.",kt="ls",vt="open",$t="help",St="clear",Dt="random",Tt="about",Kt="contact",Lt="notice",Pt={ls:"List all files",open:"Display file content",help:"Display this help",clear:"Clear terminal",random:"Display random file",about:"Display info about me",contact:"Display contact information",notice:"Display legal information"},At=8,Ot=9,Ut=13,_t=32,jt=37,qt=38,zt=39,Ht=40,Bt=65,Et=90,Ft=48,Gt=57,It=160,Jt=189,Mt=173,Nt=186,Qt=190,Rt=$(q),Vt=$(r),Wt=$(i),Xt=$(s),Yt=$(l),Zt=$(c),te=$(h),ee=$(u),ae=$(m),ne=$(f),oe=$(x),re=[],ie=w,se=re.length;$(window).load(function(){a(Xt,function(){a(Yt,function(){a(Zt,function(){Wt.removeClass(d),ee.addClass(p),Vt.addClass(p)})})})}),Vt.on(b,function(t){if(t.preventDefault(),!$(this).hasClass(p))return!1;switch(e(),t.which){case At:ae.text().length>0&&(ae.text(ae.text().slice(0,ae.text().length-1)),ie=ae.text()+ne.text().trim()+oe.text());break;case Ot:break;case Ut:if(t.shiftKey)ae.text(ae.text()+String.fromCharCode(It));else{var a=(ae.text()+ne.text()+oe.text()).trim();o(a)}break;case jt:ae.text().length>0&&(oe.text().length>0?oe.text(ne.text()+oe.text()):oe.text(ne.text().trim()),ne.text(ae.text().slice(-1)),ae.text(ae.text().slice(0,ae.text().length-1)));break;case zt:if(ne.text()!==String.fromCharCode(It)||oe.text().length>0){ae.text(ae.text()+ne.text());var r=oe.text().slice(0,1);0===r.length&&(r=String.fromCharCode(It)),ne.text(r),oe.text(oe.text().slice(1,oe.text().length))}break;case qt:n(!0);break;case Ht:n(!1);break;default:var i=String.fromCharCode(t.which);i=t.which>=Bt&&t.which<=Et?t.shiftKey?i.toUpperCase():i.toLowerCase():t.which>=Ft&&t.which<=Gt?String.fromCharCode(t.which):t.which===_t?String.fromCharCode(It):t.which===Qt||t.which===Nt?k:t.which===Jt||t.which===Mt?t.shiftKey?S:v:w,ae.text(ae.text()+i),ie=ae.text()+ne.text().trim()+oe.text()}}),Rt.on(C,A,function(){o($(this).text())})});